---
import Layout from '~/layouts/Layout.astro';
import BalancesList from '~/components/BalancesList';
import { requireUserId } from '~/lib/session.server';
import { getBalances } from '~/models/balances.server';

const userId = await requireUserId(Astro.cookies);
const balances = await getBalances({ userId });
---

<Layout title="Balances">
  <BalancesList balances={balances} client:load />
</Layout>
