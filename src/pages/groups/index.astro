---
import Layout from '~/layouts/Layout.astro';
import GroupsList from '~/components/GroupsList';
import { requireUserId } from '~/lib/session.server';
import { getGroups } from '~/models/groups.server';

const userId = await requireUserId(Astro.cookies);
const groups = await getGroups({ userId });
---

<Layout title="Groups">
  <GroupsList groups={groups} client:load />
</Layout>
